# **Quote Service API**

Сервис для сохранения котировок и получения **elvl** по инструментам (бумагам) через REST API.

---

## **Требования**

1. **Получение котировок**:
    - Сервис принимает котировки с полями `isin`, `bid`, `ask`.

2. **Хранение истории котировок**:
    - Сервис сохраняет полученные котировки в базе данных.

3. **Расчёт elvl (energy level)**:
    - **elvl** — это лучшая цена по данному инструменту (ISIN).

4. **Предоставление elvl по ISIN**:
    - Сервис предоставляет текущий **elvl** для конкретной бумаги.

5. **Предоставление перечня всех elvl**:
    - Сервис предоставляет список всех **elvl** для доступных инструментов.

6. **Обработка большого потока котировок**:
    - Сервис должен обрабатывать до **100 котировок в секунду** по нескольким бумагам, с возможностью одновременной обработки нескольких котировок по одной бумаге.

---

## **Сущности**

- **Котировка (quote)**: содержит следующие поля:
    - `isin`;
    - `bid`;
    - `ask`.

- **elvl (energy level)**: лучшая цена по данному инструменту (ISIN).

---

## **Правила расчёта elvl**

1. Если `bid > elvl`, то **elvl** = `bid`.
2. Если `ask < elvl`, то **elvl** = `ask`.
3. Если **elvl** для данного инструмента отсутствует, то **elvl** = `bid`.
4. Если `bid` отсутствует, то **elvl** = `ask`.

---

## **Валидация входных данных для котировки**

1. **bid** должен быть меньше **ask**.
2. **isin** должен быть длиной ровно 12 символов.

---

## **Технологический стек**

- **Kotlin**
- **Gradle**
- **Spring Boot**
- **Spring MVC**
- 

---

## Тестирование
Нагрузочное тестирование:

•	Для тестирования сервиса с большими нагрузками (до 100 сообщений в секунду) используется Kafka Producer.